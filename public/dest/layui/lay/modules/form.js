/*! myblog - v1.0.0 - 2017-01-02 */layui.define("layer",function(a){"use strict";var b=layui.jquery,c=layui.layer,d=layui.hint(),e=layui.device(),f="form",g=".layui-form",h="layui-this",i="layui-disabled",j=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};j.prototype.set=function(a){var c=this;return b.extend(!0,c.config,a),c},j.prototype.verify=function(a){var c=this;return b.extend(!0,c.config.verify,a),c},j.prototype.on=function(a,b){return layui.onevent(f,a,b)},j.prototype.render=function(a){var c=this,e={select:function(){var a="请选择",c="layui-form-select",d="layui-select-title",e=b(g).find("select"),j=function(a,e){b(a.target).parent().hasClass(d)&&!e||b("."+c).removeClass(c+"ed")},k=function(a,e){var g=b(this),k=a.find("."+d);e||(k.on("click",function(b){a.hasClass(c+"ed")?a.removeClass(c+"ed"):(j(b,!0),a.addClass(c+"ed"))}),a.find("dl>dd").on("click",function(){var a=b(this),c=a.attr("lay-value"),d=g.attr("lay-filter");return!a.hasClass(i)&&(g.val(c).removeClass("layui-form-danger"),k.find("input").val(a.text()),a.addClass(h).siblings().removeClass(h),void layui.event(f,"select("+d+")",{elem:g[0],value:c}))}),a.find("dl>dt").on("click",function(a){return!1}),b(document).off("click",j).on("click",j))};e.each(function(e,f){var g=b(this),j=g.next("."+c),l=this.disabled,m=f.value,n=b(f.options[f.selectedIndex]),o=b(['<div class="layui-unselect '+c+(l?" layui-select-disabled":"")+'">','<div class="'+d+'"><input type="text" placeholder="'+(f.options[0].innerHTML?f.options[0].innerHTML:a)+'" value="'+(m?n.html():"")+'" readonly class="layui-input layui-unselect'+(l?" "+i:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(g.find("optgroup")[0]?" layui-select-group":"")+'">'+function(a){var b=[];return layui.each(a,function(a,c){(0!==a||c.value)&&("optgroup"===c.tagName.toLowerCase()?b.push("<dt>"+c.label+"</dt>"):b.push('<dd lay-value="'+c.value+'" class="'+(m===c.value?h:"")+(c.disabled?" "+i:"")+'">'+c.innerHTML+"</dd>"))}),b.join("")}(g.find("*"))+"</dl>","</div>"].join(""));j[0]&&j.remove(),g.after(o),k.call(this,o,l)})},checkbox:function(){var a={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},c=b(g).find("input[type=checkbox]"),d=function(a,c){var d=b(this);a.on("click",function(){var b=d.attr("lay-filter");d[0].disabled||(d[0].checked?(d[0].checked=!1,a.removeClass(c[1])):(d[0].checked=!0,a.addClass(c[1])),layui.event(f,c[2]+"("+b+")",{elem:d[0],value:d[0].value}))})};c.each(function(c,e){var f=b(this),g=f.attr("lay-skin"),h=this.disabled;"switch"===g&&(g="_"+g);var j=a[g]||a.checkbox,k=f.next("."+j[0]),l=b(['<div class="layui-unselect '+j[0]+(e.checked?" "+j[1]:"")+(h?" layui-checkbox-disbaled "+i:"")+'">',{_switch:"<i></i>"}[g]||"<span>"+(e.title||"勾选")+'</span><i class="layui-icon">&#xe618;</i>',"</div>"].join(""));k[0]&&k.remove(),f.after(l),d.call(this,l,j)})},radio:function(){var a="layui-form-radio",c=["&#xe643;","&#xe63f;"],d=b(g).find("input[type=radio]"),e=function(d){var e=b(this),h="layui-anim-scaleSpring";d.on("click",function(){var i=e[0].name,j=e.parents(g),k=e.attr("lay-filter"),l=j.find("input[name="+i.replace(/(\.|#|\[|\])/g,"\\$1")+"]");e[0].disabled||(layui.each(l,function(){var d=b(this).next("."+a);this.checked=!1,d.removeClass(a+"ed"),d.find(".layui-icon").removeClass(h).html(c[1])}),e[0].checked=!0,d.addClass(a+"ed"),d.find(".layui-icon").addClass(h).html(c[0]),layui.event(f,"radio("+k+")",{elem:e[0],value:e[0].value}))})};d.each(function(d,f){var g=b(this),h=g.next("."+a),j=this.disabled,k=b(['<div class="layui-unselect '+a+(f.checked?" "+a+"ed":"")+(j?" layui-radio-disbaled "+i:"")+'">','<i class="layui-anim layui-icon">'+c[f.checked?0:1]+"</i>","<span>"+(f.title||"未命名")+"</span>","</div>"].join(""));h[0]&&h.remove(),g.after(k),e.call(this,k)})}};return a?e[a]?e[a]():d.error("不支持的"+a+"表单渲染"):layui.each(e,function(a,b){b()}),c};var k=function(){var a=b(this),d=l.config.verify,h=null,i="layui-form-danger",j={},k=a.parents(g),m=k.find("*[lay-verify]"),n=a.parents("form")[0],o=k.find("input,select,textarea"),p=a.attr("lay-filter");return layui.each(m,function(a,f){var g=b(this),j=g.attr("lay-verify"),k="",l=g.val(),m="function"==typeof d[j];if(g.removeClass(i),d[j]&&(m?k=d[j](l,f):!d[j][0].test(l)))return c.msg(k||d[j][1],{icon:5,shift:6}),e.android||e.ios||f.focus(),g.addClass(i),h=!0}),!h&&(layui.each(o,function(a,b){b.name&&(/^checkbox|radio$/.test(b.type)&&!b.checked||(j[b.name]=b.value))}),layui.event.call(this,f,"submit("+p+")",{elem:this,form:n,field:j}))},l=new j,m=b(document);l.render(),m.on("reset",g,function(){setTimeout(function(){l.render()},50)}),m.on("submit",g,k).on("click","*[lay-submit]",k),a(f,function(a){return l.set(a)})});